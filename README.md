# AutoGEO

**AutoGEO** is a framework for Automatic Generative Engine Optimization (GEO) that helps web content gain higher visibility in LLM-generated answers.

üìÑ **Paper:** ["What Generative Search Engines Like and How to Optimize Web Content Cooperatively"](https://arxiv.org/abs/2510.11438)  
üë• **Authors:** Yujiang Wu*, Shanshan Zhong*, Yubin Kim, Chenyan Xiong (*Equal contribution)

## üîç Overview

AutoGEO automatically extracts content preference rules from generative engines and rewrites documents to maximize visibility while preserving accuracy.

**How GEO models work:**
- **Input:** Target document
- **Output:** Rewritten document with higher visibility in generative engine (GE) responses
- **Goal:** Maximize visibility without harming GE utility

**Three core components:**

1. **Rule Extraction** ‚Äî Automatically mines content preferences from GEs.
2. **AutoGEO API** ‚Äî Prompt-based GEO model using extracted rules
3. **AutoGEO Mini** ‚Äî Cost-effective GEO model trained with reinforcement learning

**Evaluation metrics:** **GEO score** (visibility) and **GEU score** (utility)

## News

- üî• **[2025-12-08]**: We release our code and datasets ([E-commerce](https://huggingface.co/datasets/yujiangw/E-commerce), [GEO-Bench](https://huggingface.co/datasets/yujiangw/GEO-Bench), [Researchy-GEO](https://huggingface.co/datasets/yujiangw/Researchy-GEO)). Try it out!
- üî• **[2025-10-11]**: Our paper is now available on [arXiv](https://arxiv.org/pdf/2510.11438). Check it out!

## üöÄ Installation

For using AutoGEO API and rule extraction:

```bash
# Clone the repository
git clone --recursive https://github.com/cxcscmu/AutoGEO
cd AutoGEO

# Run installation script
bash install.sh

# Activate environment
conda activate autogeo

# Configure API keys (required)
nano keys.env  # Add your API keys
```

Optional: For training AutoGEO Mini models:

```bash
# First complete Option 1, then:
conda activate autogeo
bash install_mini.sh
```

**‚ö†Ô∏è Note:** AutoGEO Mini requires:
- CUDA-compatible GPU * 2 (A100 40GB+ recommended)
- ~4h for SFT and ~48h for GRPO on Researchy-GEO

## ‚ö° Quick Start

Rewrite a document using AutoGEO API:

```python
from autogeo.rewriters import rewrite_document

rewritten_text = rewrite_document(
    document="AutoGEO automatically extracts content preference rules from generative engines and rewrites documents to maximize visibility while preserving accuracy.",
    dataset="Researchy-GEO",   # Options: E-commerce, GEO-Bench, Researchy-GEO
    engine_llm="gemini"        # Options: gemini, gpt, claude
)

print(rewritten_text)
```


## üß© Rule Extraction

Extract content preference rules from a generative engine (example: Gemini on E-commerce):

```bash
python -m autogeo.extract_rules \
    --dataset E-commerce \
    --engine_llm gemini-2.5-flash-lite
```

Rules are saved to: `data/E-commerce/rule_sets/gemini-2.5-flash-lite/`. 
**Tips:**
- Reduce concurrency if hitting API rate limits: `--max_workers 4`
- Test on a small subset: `--num_examples 10`


Use extracted or custom rules for rewriting:

```python
from autogeo.rewriters import rewrite_document

rewritten_text = rewrite_document(
    document="Your document text here",
    rule_path=f"data/{dataset}/rule_sets/{engine_llm}/merged_rules.json"
)
```

**Custom rules format:** JSON file with root key `"filtered_rules"`


## üß© AutoGEO API

AutoGEO provides a unified evaluation framework for all models.

**Model types:**
- `vanilla` ‚Äî Original documents (baseline)
- `autogeo_api` ‚Äî Rewritten documents generated by prompt-based GEO model
- `autogeo_mini` ‚Äî Rewritten documents generated by cost-effective GEO model

**Evaluate baseline:**
```bash
python -m autogeo.evaluate \
    --model vanilla \
    --dataset E-commerce \
    --engine_llm gemini-2.5-flash-lite
```

**Evaluate AutoGEO API:**
```bash
python -m autogeo.evaluate \
    --model autogeo_api \
    --dataset E-commerce \
    --engine_llm gemini-2.5-flash-lite
```

**Tips:**
- Include GEU score: `--need_geu_score`
- Test subset: `--num_examples 10`


## üß© AutoGEO Mini

Train a cost-effective GEO model using reinforcement learning.

**Step 1: Cold Start (Supervised Fine-Tuning)**
```bash
bash run_cold_start.sh E-commerce
```
Using training data (`data/E-commerce/RL/finetune.json`) and starts LLaMA-Factory training. Checkpoint saved to `outputs/E-commerce/cold_start`.

**Step 2: GRPO Training**
```bash
bash run_grpo.sh E-commerce
```
Trains the model using Group Relative Policy Optimization. Checkpoint saved to `outputs/E-commerce/grpo`.

**Step 3: Evaluation**
```bash
python -m autogeo.evaluate \
    --model autogeo_mini \
    --model_path outputs/E-commerce/grpo \
    --dataset E-commerce \
    --engine_llm gemini-2.5-flash-lite
```

## üìö Supported Datasets & Engines & Metrics

**Datasets:**
- **Researchy-GEO** ‚Äî Academic & technical queries
- **E-commerce** ‚Äî Commercial & product queries
- **GEO-Bench** ‚Äî Diverse GEO evaluation benchmark

**Generative Engines:**
- **Gemini** (e.g., `gemini-2.5-flash-lite`)
- **GPT** (e.g., `gpt-4o-mini`)
- **Claude** (e.g., `claude-3-5-sonnet-20241022`)

**Metrics:**
- **GEO Score** ‚Äî Visibility (position, token count, citation frequency)
- **GEU Score** ‚Äî Utility (citation quality, keypoint coverage, response quality)

## üôè Acknowledgements

We thank the authors of [AutoRule](https://github.com/cxcscmu/AutoRule), [LLaMA-Factory](https://github.com/hiyouga/LLaMA-Factory), [open-r1](https://github.com/huggingface/open-r1), and [DeepResearchGym](https://github.com/cxcscmu/deepresearch_benchmarking) for their inspiring codebase. We also thank [Qwen3](https://github.com/QwenLM/Qwen3) and [DeepSeek-R1](https://huggingface.co/deepseek-ai/DeepSeek-R1) for their excellent models.

## üìñ Citation

If you find AutoGEO useful, please cite:

```bibtex
@article{wu2025generative,
  title={What Generative Search Engines Like and How to Optimize Web Content Cooperatively},
  author={Wu, Yujiang and Zhong, Shanshan and Kim, Yubin and Xiong, Chenyan},
  journal={arXiv preprint arXiv:2510.11438},
  year={2025}
}
```
